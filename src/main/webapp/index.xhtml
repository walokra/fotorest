<?xml version="1.0" encoding="UTF-8"?>  
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:ui="http://java.sun.com/jsf/facelets" 
	xmlns:p="http://primefaces.org/ui">
 
    <h:head>
        <title>Fotorest</title>
        <style type="text/css">
        	html,body { height: 100%; margin: 0px; padding: 0px; }
        	body, input, textarea, button {
				color: #333;
				font: 11px Helmet, Freesans, sans-serif;
			}
        	.container {
        		margin: 0 auto;
        		padding: 10px;
        	}
        	.header {
        		width: 100%;
        		height: 75px;
        	}
        	.content {
        	}
        	.left {
        		width: 33%;
        		float: left;
        	}
        	.right {
        		margin-left: 10px;
        		width: 66%;
        		float: left;
        	}
        </style>
    </h:head>
    
	<h:body> 
		<div class="container">
		<div class="header">
			<h:form id="headerForm">
			<h1><h:outputText value="#{msgs['title']}" /></h1>
			
			<p:commandButton value="#{msgs['action.hot']}" update=":form:growl" 
				actionListener="#{browserBean.hot}" id="btnHotSubmit"/>
			<p:commandButton value="#{msgs['action.random']}" update=":form:growl" 
				actionListener="#{browserBean.random}" id="btnRndSubmit"/>
			<p:inputText label="search" id="search" value="#{browserBean.search}"></p:inputText>
			<p:watermark for="search" value="Search" />
			</h:form>
		</div>
		
		<div class="content">
			<h:form id="form">
			
			<p:growl id="growl" showDetail="true"/>
			
			<div class="left">
				<p:dataTable id="dataTable" var="image" value="#{browserBean.dataModel}"   
						scrollRows="50" scrollable="true" liveScroll="true" scrollHeight="640" 
						selection="#{browserBean.selectedImage}" selectionMode="single" rowKey="#{image.id}">
					<p:ajax event="rowSelect" listener="#{browserBean.onRowSelect}" update=":form:display :form:growl" />
					<p:column headerText="Title">
					   #{image.title}  
					</p:column>
					<p:column headerText="Link">  
					    <h:outputLink value="#{image.link}"><h:outputText value="#{image.link}" /></h:outputLink>  
					</p:column>
				</p:dataTable>
			
			</div>
	 		<div class="right">
				 <h:panelGroup id="display">
					<p:graphicImage value="#{browserBean.selectedImage.link}"/>				
				 </h:panelGroup>
			</div>
			</h:form>
		</div>
		</div>
    </h:body>
</html>